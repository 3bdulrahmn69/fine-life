export const CURRENCIES = {
  // Major Currencies
  USD: { symbol: '$', name: 'US Dollar', code: 'USD', flag: 'ðŸ‡ºðŸ‡¸' },
  EUR: { symbol: 'â‚¬', name: 'Euro', code: 'EUR', flag: 'ðŸ‡ªðŸ‡º' },
  GBP: { symbol: 'Â£', name: 'British Pound', code: 'GBP', flag: 'ðŸ‡¬ðŸ‡§' },
  JPY: { symbol: 'Â¥', name: 'Japanese Yen', code: 'JPY', flag: 'ðŸ‡¯ðŸ‡µ' },

  // Americas
  CAD: { symbol: 'C$', name: 'Canadian Dollar', code: 'CAD', flag: 'ðŸ‡¨ðŸ‡¦' },
  AUD: { symbol: 'A$', name: 'Australian Dollar', code: 'AUD', flag: 'ðŸ‡¦ðŸ‡º' },
  NZD: { symbol: 'NZ$', name: 'New Zealand Dollar', code: 'NZD', flag: 'ðŸ‡³ðŸ‡¿' },
  MXN: { symbol: '$', name: 'Mexican Peso', code: 'MXN', flag: 'ðŸ‡²ðŸ‡½' },
  BRL: { symbol: 'R$', name: 'Brazilian Real', code: 'BRL', flag: 'ðŸ‡§ðŸ‡·' },
  ARS: { symbol: '$', name: 'Argentine Peso', code: 'ARS', flag: 'ðŸ‡¦ðŸ‡·' },
  CLP: { symbol: '$', name: 'Chilean Peso', code: 'CLP', flag: 'ðŸ‡¨ðŸ‡±' },
  COP: { symbol: '$', name: 'Colombian Peso', code: 'COP', flag: 'ðŸ‡¨ðŸ‡´' },
  PEN: { symbol: 'S/', name: 'Peruvian Sol', code: 'PEN', flag: 'ðŸ‡µðŸ‡ª' },
  UYU: { symbol: '$U', name: 'Uruguayan Peso', code: 'UYU', flag: 'ðŸ‡ºðŸ‡¾' },

  // Europe
  CHF: { symbol: 'CHF', name: 'Swiss Franc', code: 'CHF', flag: 'ðŸ‡¨ðŸ‡­' },
  SEK: { symbol: 'kr', name: 'Swedish Krona', code: 'SEK', flag: 'ðŸ‡¸ðŸ‡ª' },
  NOK: { symbol: 'kr', name: 'Norwegian Krone', code: 'NOK', flag: 'ðŸ‡³ðŸ‡´' },
  DKK: { symbol: 'kr', name: 'Danish Krone', code: 'DKK', flag: 'ðŸ‡©ðŸ‡°' },
  PLN: { symbol: 'zÅ‚', name: 'Polish ZÅ‚oty', code: 'PLN', flag: 'ðŸ‡µðŸ‡±' },
  CZK: { symbol: 'KÄ', name: 'Czech Koruna', code: 'CZK', flag: 'ðŸ‡¨ðŸ‡¿' },
  HUF: { symbol: 'Ft', name: 'Hungarian Forint', code: 'HUF', flag: 'ðŸ‡­ðŸ‡º' },
  RON: { symbol: 'lei', name: 'Romanian Leu', code: 'RON', flag: 'ðŸ‡·ðŸ‡´' },
  BGN: { symbol: 'Ð»Ð²', name: 'Bulgarian Lev', code: 'BGN', flag: 'ðŸ‡§ðŸ‡¬' },
  HRK: { symbol: 'kn', name: 'Croatian Kuna', code: 'HRK', flag: 'ðŸ‡­ðŸ‡·' },
  RSD: { symbol: 'Ð´Ð¸Ð½', name: 'Serbian Dinar', code: 'RSD', flag: 'ðŸ‡·ðŸ‡¸' },
  TRY: { symbol: 'â‚º', name: 'Turkish Lira', code: 'TRY', flag: 'ðŸ‡¹ðŸ‡·' },
  RUB: { symbol: 'â‚½', name: 'Russian Ruble', code: 'RUB', flag: 'ðŸ‡·ðŸ‡º' },
  UAH: { symbol: 'â‚´', name: 'Ukrainian Hryvnia', code: 'UAH', flag: 'ðŸ‡ºðŸ‡¦' },

  // Asia Pacific
  CNY: { symbol: 'Â¥', name: 'Chinese Yuan', code: 'CNY', flag: 'ðŸ‡¨ðŸ‡³' },
  KRW: { symbol: 'â‚©', name: 'South Korean Won', code: 'KRW', flag: 'ðŸ‡°ðŸ‡·' },
  SGD: { symbol: 'S$', name: 'Singapore Dollar', code: 'SGD', flag: 'ðŸ‡¸ðŸ‡¬' },
  HKD: { symbol: 'HK$', name: 'Hong Kong Dollar', code: 'HKD', flag: 'ðŸ‡­ðŸ‡°' },
  TWD: { symbol: 'NT$', name: 'Taiwan Dollar', code: 'TWD', flag: 'ðŸ‡¹ðŸ‡¼' },
  INR: { symbol: 'â‚¹', name: 'Indian Rupee', code: 'INR', flag: 'ðŸ‡®ðŸ‡³' },
  PKR: { symbol: 'â‚¨', name: 'Pakistani Rupee', code: 'PKR', flag: 'ðŸ‡µðŸ‡°' },
  BDT: { symbol: 'à§³', name: 'Bangladeshi Taka', code: 'BDT', flag: 'ðŸ‡§ðŸ‡©' },
  LKR: { symbol: 'â‚¨', name: 'Sri Lankan Rupee', code: 'LKR', flag: 'ðŸ‡±ðŸ‡°' },
  NPR: { symbol: 'â‚¨', name: 'Nepalese Rupee', code: 'NPR', flag: 'ðŸ‡³ðŸ‡µ' },
  THB: { symbol: 'à¸¿', name: 'Thai Baht', code: 'THB', flag: 'ðŸ‡¹ðŸ‡­' },
  VND: { symbol: 'â‚«', name: 'Vietnamese Dong', code: 'VND', flag: 'ðŸ‡»ðŸ‡³' },
  IDR: { symbol: 'Rp', name: 'Indonesian Rupiah', code: 'IDR', flag: 'ðŸ‡®ðŸ‡©' },
  MYR: { symbol: 'RM', name: 'Malaysian Ringgit', code: 'MYR', flag: 'ðŸ‡²ðŸ‡¾' },
  PHP: { symbol: 'â‚±', name: 'Philippine Peso', code: 'PHP', flag: 'ðŸ‡µðŸ‡­' },

  // Middle East & Africa
  SAR: { symbol: 'ï·¼', name: 'Saudi Riyal', code: 'SAR', flag: 'ðŸ‡¸ðŸ‡¦' },
  AED: { symbol: 'Ø¯.Ø¥', name: 'UAE Dirham', code: 'AED', flag: 'ðŸ‡¦ðŸ‡ª' },
  QAR: { symbol: 'ï·¼', name: 'Qatari Riyal', code: 'QAR', flag: 'ðŸ‡¶ðŸ‡¦' },
  KWD: { symbol: 'Ø¯.Ùƒ', name: 'Kuwaiti Dinar', code: 'KWD', flag: 'ðŸ‡°ðŸ‡¼' },
  BHD: { symbol: '.Ø¯.Ø¨', name: 'Bahraini Dinar', code: 'BHD', flag: 'ðŸ‡§ðŸ‡­' },
  OMR: { symbol: 'ï·¼', name: 'Omani Rial', code: 'OMR', flag: 'ðŸ‡´ðŸ‡²' },
  JOD: { symbol: 'Ø¯.Ø§', name: 'Jordanian Dinar', code: 'JOD', flag: 'ðŸ‡¯ðŸ‡´' },
  EGP: { symbol: 'Â£', name: 'Egyptian Pound', code: 'EGP', flag: 'ðŸ‡ªðŸ‡¬' },
  ZAR: { symbol: 'R', name: 'South African Rand', code: 'ZAR', flag: 'ðŸ‡¿ðŸ‡¦' },
  NGN: { symbol: 'â‚¦', name: 'Nigerian Naira', code: 'NGN', flag: 'ðŸ‡³ðŸ‡¬' },
  GHS: { symbol: 'â‚µ', name: 'Ghanaian Cedi', code: 'GHS', flag: 'ðŸ‡¬ðŸ‡­' },
  KES: { symbol: 'KSh', name: 'Kenyan Shilling', code: 'KES', flag: 'ðŸ‡°ðŸ‡ª' },
  UGX: { symbol: 'USh', name: 'Ugandan Shilling', code: 'UGX', flag: 'ðŸ‡ºðŸ‡¬' },
  TZS: { symbol: 'TSh', name: 'Tanzanian Shilling', code: 'TZS', flag: 'ðŸ‡¹ðŸ‡¿' },

  // Other Notable
  ISK: { symbol: 'kr', name: 'Icelandic KrÃ³na', code: 'ISK', flag: 'ðŸ‡®ðŸ‡¸' },
} as const;

export type CurrencyCode = keyof typeof CURRENCIES;

export const formatCurrency = (
  amount: number,
  currencyCode: CurrencyCode = 'USD',
  showSymbol: boolean = true
): string => {
  const currency = CURRENCIES[currencyCode];

  if (!currency) {
    return amount.toFixed(2);
  }

  const formattedAmount = new Intl.NumberFormat('en-US', {
    minimumFractionDigits: 2,
    maximumFractionDigits: 2,
  }).format(Math.abs(amount));

  if (!showSymbol) {
    return formattedAmount;
  }

  return `${currency.symbol}${formattedAmount}`;
};

export const parseCurrencyInput = (input: string): number => {
  // Remove all non-numeric characters except decimal point and minus sign
  const cleaned = input.replace(/[^\d.-]/g, '');
  const parsed = parseFloat(cleaned);
  return isNaN(parsed) ? 0 : parsed;
};

export const getCurrencySymbol = (currencyCode: CurrencyCode): string => {
  return CURRENCIES[currencyCode]?.symbol || '$';
};

export const getAllCurrencies = () => {
  return Object.entries(CURRENCIES).map(([code, currency]) => ({
    currencyCode: code as CurrencyCode,
    ...currency,
  }));
};
